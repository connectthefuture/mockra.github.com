---
layout: post
title: jQuery Selectable
---

<p>Sending selected elements to your Rails application can be pretty simple when using jQuery-ui. You&#8217;ll want to make sure you&#8217;ve included <code>//= require jquery-ui</code> in your application.js file.</p>

<p>You&#8217;ll then want to add a selectable class or id to the list you want to use, or whatever class name you prefer. Make sure to add the values you want passed to your controller to each li element as well. The following coffeescript code will then let you pass the selected information to your application on a button click.</p>

<pre class="prettyprint coffee">
jQuery -&gt;
  $( '#selectable' ).selectable()
  $( 'button.send' ).click -&gt;
    contacts = []
    $( 'li.ui-selected' ).each -&gt;
      contacts.push( $( this ).attr( 'id' ) )
    $.post( $( this ).attr( 'url' ), { contacts: contacts } )
</pre>

<p>My specific code is being used for a contact box. I&#8217;m adding the ids of selected contacts to an array, and then sending those ids to the send_mail controller action. Here&#8217;s an example of the post paramaters:
<code>Parameters: {"contacts"=&gt;["9", "4", "1", "2", "3", "5", "6", "7", "8"]}</code>
</p>

<p>As you can see, this specific application sets the post url through an attribute on the button. It&#8217;s also storing the contact&#8217;s id in an li attribute. You can style selected li elements in your css using the ui-selected class.</p>

<p>I don&#8217;t have much experience with javascript or jQuery, but I&#8217;d be happy to attempt to answer any questions, so feel free to contact me if you get stuck. Feedback is always more than welcome too.</p>
